{
    "$id": "https://antcassidy.com/anthony",
    "$schema": "http://json-schema.org/draft-07/schema",
    "description": "a list of specific objects, and the transactions you can use on them",
    "type": "object",
    "properties": {
        "objectivePropName": {
            "$ref": "#/definitions/inv_type"
        },
        "transactions": {
            "type": "array",
            "minItems": 1,
            "items": {
                "$ref": "#/definitions/transaction_type"
            }
        }
    },
    "definitions": {
        "inv_type": {
            "enum": [
                "inv_screwdriver",
                "inv_radio_tube",
                "inv_broken_amp",
                "inv_fixed_amp",
                "inv_guitar",
                "inv_inflated_ball",
                "inv_pole_hook",
                "inv_deflated_ball",
                "inv_pump_with_needle_adapter",
                "inv_inflating_needle",
                "inv_pump_with_bike_adapter",
                "inv_jar_of_protons",
                "inv_vacuum_tubes",
                "inv_box_of_electromagnets",
                "inv_demon_death"
            ]
        },
        "prop_type": {
            "enum": [
                "prop_screwdriver",
                "prop_closed_radio",
                "prop_opened_radio",
                "prop_opened_radio_with_radio_tube",
                "prop_broken_amp",
                "prop_plugged_in_amp",
                "prop_powerpoint",
                "prop_death_by_guitar",
                "prop_death_by_slamdunk",
                "prop_death_by_physics",
                "prop_lowered_backboard",
                "prop_raised_backboard",
                "prop_accelerated_vacuum_tube",
                "prop_powerpoint1",
                "prop_exposed_vacuum_tube1",
                "prop_attached_electromagnet1",
                "prop_plugged_in_electromagnet1",
                "prop_switched_on_electromagnet1",
                "prop_powerpoint2",
                "prop_exposed_vacuum_tube2",
                "prop_attached_electromagnet2",
                "prop_plugged_in_electromagnet2",
                "prop_switched_on_electromagnet2",
                "prop_powerpoint3",
                "prop_exposed_vacuum_tube3",
                "prop_attached_electromagnet3",
                "prop_plugged_in_electromagnet3",
                "prop_switched_on_electromagnet3",
                "prop_powerpoint4",
                "prop_exposed_vacuum_tube4",
                "prop_attached_electromagnet4",
                "prop_plugged_in_electromagnet4",
                "prop_switched_on_electromagnet4",
                "prop_powerpoint5",
                "prop_exposed_vacuum_tube5",
                "prop_attached_electromagnet5",
                "prop_plugged_in_electromagnet5",
                "prop_switched_on_electromagnet5",
                "prop_vacuum_tube",
                "prop_slightly_accelerated_vacuum_tube",
                "prop_mildly_accelerated_vacuum_tube",
                "prop_moderately_accelerated_vacuum_tube",
                "prop_partly_accelerated_vacuum_tube",
                "prop_fully_accelerated_vacuum_tube",
                "prop_exposed_vacuum_tube_pipe_1",
                "prop_exposed_vacuum_tube_pipe_2",
                "prop_exposed_vacuum_tube_pipe_3",
                "prop_exposed_vacuum_tube_pipe_4",
                "prop_exposed_vacuum_tube_pipe_5",
                "prop_three_phase_powerpoint",
                "prop_button_set_to_star"
            ]
        },
        "verb_type": {
            "enum": [ "use", "pick_up" ]
        },
        "transaction_type": {
            "type": "object",
            "required": [ "type" ],
            "properties": {
                "type": {
                    "$ref": "#/definitions/type_type"
                },
                "inv1": {
                    "$ref": "#/definitions/inv_type"
                },
                "inv2": {
                    "$ref": "#/definitions/inv_type"
                },
                "inv3": {
                    "$ref": "#/definitions/inv_type"
                },
                "prop1": {
                    "$ref": "#/definitions/prop_type"
                },
                "prop2": {
                    "$ref": "#/definitions/prop_type"
                },
                "prop3": {
                    "$ref": "#/definitions/prop_type"
                },
                "prop4": {
                    "$ref": "#/definitions/prop_type"
                },
                "prop5": {
                    "$ref": "#/definitions/prop_type"
                },
                "prop6": {
                    "$ref": "#/definitions/prop_type"
                }
            },
            "allOf": [
                {
                    "if": {
                        "anyOf": [
                            {
                                "properties": {
                                    "type": {
                                        "const": "INV1_AND_INV2_GENERATE_INV",
                                        "description": "eg none yet"
                                    }
                                }
                            },
                            {
                                "properties": {
                                    "type": {
                                        "const": "INV1_AND_INV2_FORM_AN_INV",
                                        "description": "not quite the amp fixing - but close"
                                    }
                                }
                            },
                            {
                                "properties": {
                                    "type": {
                                        "const": "INV1_BECOMES_INV2_VIA_KEEPING_INV3",
                                        "description": "eg FLAT BALL becomes INFLATED BALL via keeping PUMP"
                                    }
                                }
                            },
                            {
                                "properties": {
                                    "type": {
                                        "const": "INV1_BECOMES_INV2_VIA_LOSING_INV3",
                                        "description": "eg broken amp becomes FIXED AMP via losing RADIO_TUBE"
                                    }
                                }
                            }
                        ]
                    },
                    "then": {
                        "required": [
                            "inv1",
                            "inv2",
                            "inv3"
                        ],
                        "not": {
                            "required": [
                                "prop1",
                                "prop2",
                                "prop3"
                            ]
                        }
                    }
                },
                {
                    "if": {
                        "anyOf": [
                            {
                                "properties": {
                                    "type": {
                                        "const": "INV1_WITH_PROP1_REVEALS_PROP2_KEPT_ALL",
                                        "description": "eg use ball with backboard generate prop"
                                    }
                                }
                            },
                            {
                                "properties": {
                                    "type": {
                                        "const": "PROP1_BECOMES_PROP2_VIA_LOSING_INV1",
                                        "description": "powerpoint -> plugged-in-amp via losing INV_FIXEDAMP"
                                    }
                                }
                            },
                            {
                                "properties": {
                                    "type": {
                                        "const": "PROP1_BECOMES_PROP2_VIA_KEEPING_INV1",
                                        "description": "eg RAISEDBACKBOARD becomes LOWEREDBACKBOARD vie keeping POLEHOOK",
                                        "title": " eg CLOSED_RADIO becomes  OPENED_RADIO_WITH_TUBE via keeping SCREWDRIVER"
                                    }
                                }
                            },
                            {
                                "properties": {
                                    "type": {
                                        "const": "PROP1_BECOMES_PROP2_WHEN_GRAB_INV1",
                                        "description": "eg opened raio with radiotube becomes merely OPENED RADIO when you grab RADIOTUBE"
                                    }
                                }
                            }
                        ]
                    },
                    "then": {
                        "required": [
                            "inv1",
                            "prop1",
                            "prop2"
                        ],
                        "not": {
                            "required": [
                                "inv2",
                                "inv3",
                                "prop3"
                            ]
                        }
                    }
                },
                {
                    "if": {
                        "anyOf": [
                            {
                                "properties": {
                                    "type": {
                                        "const": "PROP1_BECOMES_PROP2_VIA_LOSING_PROP3",
                                        "description": "eg none yet"
                                    }
                                }
                            }
                        ]
                    },
                    "then": {
                        "required": [
                            "prop1",
                            "prop2",
                            "prop3"
                        ],
                        "not": {
                            "required": [
                                "inv1",
                                "inv2",
                                "inv3"
                            ]
                        }
                    }
                },
                {
                    "if": {
                        "anyOf": [
                            {
                                "properties": {
                                    "type": {
                                        "const": "PROP1_GOES_WHEN_GRAB_INV1",
                                        "description": "everywhere!"
                                    }
                                }
                            }
                        ]
                    },
                    "then": {
                        "required": [ "prop1", "inv1" ],
                        "not": {
                            "required": [
                                "prop2",
                                "prop3",
                                "inv2",
                                "inv3"
                            ]
                        }
                    }
                },
                {
                    "if": {
                        "anyOf": [
                            {
                                "properties": {
                                    "type": {
                                        "const": "TURN_ON_PROP1_BECOMES_PROP2_PROP_BECOMES_PROP",
                                        "description": "turn on magged up vacuum tubes"
                                    }
                                }
                            },
                            {
                                "properties": {
                                    "type": {
                                        "const": "TURN_ON_PROP1_BECOMES_PROP2_PROP_BECOMES_PROP",
                                        "description": "turn on magged up vacuum tubes"
                                    }
                                }
                            }
                        ]
                    },
                    "then": {
                        "required": [
                            "prop1",
                            "prop2"
                        ],
                        "not": {
                            "required": [
                                "prop3",
                                "inv1",
                                "inv2",
                                "inv3"
                            ]
                        }
                    }
                },
                {
                    "if": {
                        "properties": {
                            "type": {
                                "const": "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_1_PROP",
                                "description": "updated the vacuum tube"
                            }
                        }
                    },
                    "then": {
                        "required": [
                            "prop1",
                            "prop2",
                            "prop3"
                        ],
                        "not": {
                            "required": [
                                "inv1",
                                "inv2",
                                "inv3",
                                "prop7",
                                "prop6",
                                "prop5",
                                "prop4"
                            ]
                        }
                    }
                },
                {
                    "if": {
                        "properties": {
                            "type": {
                                "const": "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_2_PROPS",
                                "description": "updated the vacuum tube"
                            }
                        }
                    },
                    "then": {
                        "required": [
                            "prop1",
                            "prop2",
                            "prop3",
                            "prop4"
                        ],
                        "not": {
                            "required": [
                                "inv1",
                                "inv2",
                                "inv3",
                                "prop7",
                                "prop6",
                                "prop5"
                            ]
                        }
                    }
                },
                {
                    "if": {
                        "properties": {
                            "type": {
                                "const": "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_3_PROPS",
                                "description": "updated the vacuum tube"
                            }
                        }
                    },
                    "then": {
                        "required": [
                            "prop1",
                            "prop2",
                            "prop3",
                            "prop4",
                            "prop5"
                        ],
                        "not": {
                            "required": [
                                "inv1",
                                "inv2",
                                "inv3",
                                "prop7",
                                "prop6"
                            ]
                        }
                    }
                },
                {
                    "if": {
                        "properties": {
                            "type": {
                                "const": "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_4_PROPS",
                                "description": "updated the vacuum tube"
                            }
                        }
                    },
                    "then": {
                        "required": [
                            "prop1",
                            "prop2",
                            "prop3",
                            "prop4",
                            "prop5",
                            "prop6"
                        ],
                        "not": {
                            "required": [
                                "inv1",
                                "inv2",
                                "inv3",
                                "prop7"
                            ]
                        }
                    }
                },
                {
                    "if": {
                        "properties": {
                            "type": {
                                "const": "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_5_PROPS",
                                "description": "updated the vacuum tube"
                            }
                        }
                    },
                    "then": {
                        "required": [
                            "prop1",
                            "prop2",
                            "prop3",
                            "prop4",
                            "prop5",
                            "prop6",
                            "prop7"
                        ],
                        "not": {
                            "required": [
                                "inv1",
                                "inv2",
                                "inv3"
                            ]
                        }
                    }
                }
            ]
        },
        "type_type": {
            "enum": [
                "INV1_AND_INV2_FORM_AN_INV",
                "INV1_AND_INV2_GENERATE_INV",
                "INV1_BECOMES_INV2_VIA_KEEPING_INV3",
                "INV1_BECOMES_INV2_VIA_LOSING_INV3",
                "INV1_WITH_PROP1_REVEALS_PROP2_KEPT_ALL",
                "PROP1_BECOMES_PROP2_VIA_KEEPING_INV1",
                "PROP1_BECOMES_PROP2_VIA_KEEPING_PROP3",
                "PROP1_BECOMES_PROP2_VIA_LOSING_INV1",
                "PROP1_BECOMES_PROP2_VIA_LOSING_PROP3",
                "PROP1_BECOMES_PROP2_WHEN_GRAB_INV1",
                "PROP1_GOES_WHEN_GRAB_INV1",
                "TURN_OFF_PROP1_BECOMES_PROP2",
                "TURN_ON_PROP1_BECOMES_PROP2",
                "AUTO_PROP_GENERATED_BY_MANY_PROPS",
                "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_1_PROP",
                "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_2_PROPS",
                "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_3_PROPS",
                "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_4_PROPS",
                "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_5_PROPS"
            ]
        }
    },
    "INV1_AND_INV2_FORM_AN_INV": "INV1_AND_INV2_FORM_AN_INV",
    "INV1_AND_INV2_GENERATE_INV": "INV1_AND_INV2_GENERATE_INV",
    "INV1_BECOMES_INV2_VIA_KEEPING_INV3": "INV1_BECOMES_INV2_VIA_KEEPING_INV",
    "INV1_BECOMES_INV2_VIA_LOSING_INV3": "INV1_BECOMES_INV2_VIA_LOSING_INV3",
    "INV1_WITH_PROP1_REVEALS_PROP2_KEPT_ALL": "INV1_WITH_PROP1_REVEALS_PROP2_KEPT_ALL",
    "PROP1_BECOMES_PROP2_VIA_KEEPING_INV1": "PROP1_BECOMES_PROP2_VIA_KEEPING_INV1",
    "PROP1_BECOMES_PROP2_VIA_KEEPING_PROP3": "PROP1_BECOMES_PROP2_VIA_KEEPING_PROP3",
    "PROP1_BECOMES_PROP2_VIA_LOSING_INV1": "PROP1_BECOMES_PROP2_VIA_LOSING_INV1",
    "PROP1_BECOMES_PROP2_VIA_LOSING_PROP3": "PROP1_BECOMES_PROP2_VIA_LOSING_PROP3",
    "PROP1_BECOMES_PROP2_WHEN_GRAB_INV1": "PROP1_BECOMES_PROP2_WHEN_GRAB_INV1",
    "PROP1_GOES_WHEN_GRAB_INV1": "PROP1_GOES_WHEN_GRAB_INV1",
    "TURN_OFF_PROP1_BECOMES_PROP2": "TURN_OFF_PROP1_BECOMES_PROP2",
    "TURN_ON_PROP1_BECOMES_PROP2": "TURN_ON_PROP1_BECOMES_PROP2",
    "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_1_PROP": "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_1_PROP",
    "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_2_PROPS": "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_2_PROPS",
    "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_3_PROPS": "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_3_PROPS",
    "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_4_PROPS": "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_4_PROPS",
    "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_5_PROPS": "AUTO_PROP1_BECOMES_PROP2_VIA_KEEPING_5_PROPS"
}